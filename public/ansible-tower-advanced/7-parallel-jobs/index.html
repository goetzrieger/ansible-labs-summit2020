<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.59.1" />
    <meta name="description" content="Ansible and Ansible Tower Labs">
<meta name="author" content="Christian, Eric, Götz, Ismail, Joachim">

    <link rel="icon" href="https://goetzrieger.github.io/images/favicon.png" type="image/png">

    <title>Parallel Jobs :: Ansible Labs for Red Hat Summit</title>

    
    <link href="https://goetzrieger.github.io/css/nucleus.css?1588672719" rel="stylesheet">
    <link href="https://goetzrieger.github.io/css/fontawesome-all.min.css?1588672719" rel="stylesheet">
    <link href="https://goetzrieger.github.io/css/hybrid.css?1588672719" rel="stylesheet">
    <link href="https://goetzrieger.github.io/css/featherlight.min.css?1588672719" rel="stylesheet">
    <link href="https://goetzrieger.github.io/css/perfect-scrollbar.min.css?1588672719" rel="stylesheet">
    <link href="https://goetzrieger.github.io/css/auto-complete.css?1588672719" rel="stylesheet">
    <link href="https://goetzrieger.github.io/css/atom-one-dark-reasonable.css?1588672719" rel="stylesheet">
    <link href="https://goetzrieger.github.io/css/theme.css?1588672719" rel="stylesheet">
    <link href="https://goetzrieger.github.io/css/hugo-theme.css?1588672719" rel="stylesheet">
    
      <link href="https://goetzrieger.github.io/css/theme-red.css?1588672719" rel="stylesheet">
    

    <script src="https://goetzrieger.github.io/js/jquery-3.3.1.min.js?1588672719"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/ansible-tower-advanced/7-parallel-jobs/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://goetzrieger.github.io/">
  <img src="https://goetzrieger.github.io/images/summit-badge.png">
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="https://goetzrieger.github.io/js/lunr.min.js?1588672719"></script>
<script type="text/javascript" src="https://goetzrieger.github.io/js/auto-complete.js?1588672719"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/goetzrieger.github.io\/";
    
</script>
<script type="text/javascript" src="https://goetzrieger.github.io/js/search.js?1588672719"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/ansible-getting-started/" title="Ansible Getting Started" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-getting-started/">
          Ansible Getting Started
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/ansible-getting-started/1-setup/" title="Check the Prerequisites" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-getting-started/1-setup/">
          Check the Prerequisites
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-getting-started/2-adhoc/" title="Running ad hoc commands" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-getting-started/2-adhoc/">
          Running ad hoc commands
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-getting-started/3-playbook/" title="Writing Your First Playbook" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-getting-started/3-playbook/">
          Writing Your First Playbook
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-getting-started/4-variables/" title="Using Variables" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-getting-started/4-variables/">
          Using Variables
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-getting-started/5-handlers/" title="Conditionals, Handlers and Loops" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-getting-started/5-handlers/">
          Conditionals, Handlers and Loops
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-getting-started/6-templates/" title="Templates" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-getting-started/6-templates/">
          Templates
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-getting-started/7-bonus/" title="Bonus Labs" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-getting-started/7-bonus/">
          Bonus Labs
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/ansible-tower-getting-started/" title="Ansible Tower Getting Started" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-getting-started/">
          Ansible Tower Getting Started
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-getting-started/1-intro/" title="Introduction to Tower" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-getting-started/1-intro/">
          Introduction to Tower
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-getting-started/2-cred/" title="Inventories, credentials and ad hoc commands" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-getting-started/2-cred/">
          Inventories, credentials and ad hoc commands
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-getting-started/3-projects/" title="Projects &amp; job templates" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-getting-started/3-projects/">
          Projects &amp; job templates
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-getting-started/4-surveys/" title="Surveys" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-getting-started/4-surveys/">
          Surveys
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-getting-started/5-rbac/" title="Role-based access control" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-getting-started/5-rbac/">
          Role-based access control
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-getting-started/6-workflows/" title="Workflows" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-getting-started/6-workflows/">
          Workflows
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-getting-started/7-wrap/" title="Wrap up" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-getting-started/7-wrap/">
          Wrap up
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/ansible-tower-advanced/" title="Ansible Tower Advanced" class="dd-item 
        parent
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-advanced/">
          Ansible Tower Advanced
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-advanced/1-intro/" title="Ansible Tower Advanced" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-advanced/1-intro/">
          Ansible Tower Advanced
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-advanced/2-clustering/" title="Introduction to Ansible Tower Clustering" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-advanced/2-clustering/">
          Introduction to Ansible Tower Clustering
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-advanced/3-awx-cli-intro/" title="There is more to Tower than the Web UI" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-advanced/3-awx-cli-intro/">
          There is more to Tower than the Web UI
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-advanced/4-awx-cli-exercises/" title="Creating Tower Objects Using `awx`" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-advanced/4-awx-cli-exercises/">
          Creating Tower Objects Using `awx`
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-advanced/5-tower-cluster-jobs/" title="Run a Job in a Cluster" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-advanced/5-tower-cluster-jobs/">
          Run a Job in a Cluster
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-advanced/6-instance-groups/" title="Tower Instance Groups" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-advanced/6-instance-groups/">
          Tower Instance Groups
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-advanced/7-parallel-jobs/" title="Parallel Jobs" class="dd-item 
        parent
        active
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-advanced/7-parallel-jobs/">
          Parallel Jobs
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-advanced/8-isolated-nodes/" title="Isolated Nodes" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-advanced/8-isolated-nodes/">
          Isolated Nodes
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-advanced/9-advanced-inventories/" title="Advanced Inventories" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-advanced/9-advanced-inventories/">
          Advanced Inventories
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-advanced/10-structured-content/" title="Well Structured Content Repositories" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-advanced/10-structured-content/">
          Well Structured Content Repositories
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-advanced/11-rest-api/" title="Discovering the Tower API" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-advanced/11-rest-api/">
          Discovering the Tower API
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/ansible-tower-advanced/12-appendix/" title="Appendix" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/ansible-tower-advanced/12-appendix/">
          Appendix
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/vscode-intro/" title="Visual Studio Code Introduction" class="dd-item 
        
        
        
        ">
      <a href="https://goetzrieger.github.io/vscode-intro/">
          Visual Studio Code Introduction
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://goetzrieger.github.io/"><i class='fas fa-home'></i> Homepage</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p></p>
    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://schema.org/BreadcrumbList">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='https://goetzrieger.github.io/'></a> > <a href='https://goetzrieger.github.io/ansible-tower-advanced/'>Ansible Tower Advanced</a> > Parallel Jobs
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#lab-scenario">Lab Scenario</a></li>
<li><a href="#prepare-the-compliance-lab">Prepare the Compliance Lab</a>
<ul>
<li><a href="#first-step-create-three-templates">First Step: Create three Templates</a></li>
</ul></li>
<li><a href="#create-parallel-workflow">Create Parallel Workflow</a></li>
<li><a href="#execute-and-watch">Execute and Watch</a></li>
<li><a href="#using-instance-groups">Using Instance Groups</a>
<ul>
<li><a href="#assign-jobs-to-instance-groups">Assign Jobs to Instance Groups</a></li>
<li><a href="#run-the-workflow">Run the Workflow</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Parallel Jobs
            </h1>
          

        



	

<p>The real power of instance groups is revealed when multiple jobs are started, and they are assigned to different Tower nodes. To launch parallel jobs we will set up a workflow with multiple concurrent jobs.</p>

<h2 id="lab-scenario">Lab Scenario</h2>

<p>To configure something meaningful we&rsquo;ll make a quick detour into security automation here. During this lab we’ll focus on security compliance according to STIG, CIS and so on. Often these compliance rules are enforced by executing an Ansible task per each requirement. This makes documentation and audit easier.</p>

<p>Compliance requirements are often grouped into independent categories. The tasks can often be executed in parallel because they do not conflict with each other.</p>

<p>In our demo case we use three playbooks which:</p>

<ul>
<li><p>ensure the absence of a few packages (STIG)</p></li>

<li><p>ensure configuration of PAM and login cryptography (STIG)</p></li>

<li><p>ensure absence of services and kernel modules (CIS).</p></li>
</ul>

<p>The Playbooks can be found in the Github repository you already setup as a <strong>Project</strong> in your Tower.</p>

<h2 id="prepare-the-compliance-lab">Prepare the Compliance Lab</h2>

<h3 id="first-step-create-three-templates">First Step: Create three Templates</h3>

<p>As mentioned the Github repository contains three Playbooks to enforce different compliance requirements. First create these three templates and attach credentials using the <code>awx</code> CLI in the VSCode terminal:</p>

<pre><code>[student@ansible ~]$ awx job_template create --name &quot;Compliance STIG packages&quot; \
                      --job-type run \
                      --inventory &quot;Example Inventory&quot; \
                      --project &quot;Apache&quot;  \
                      --playbook &quot;stig-packages.yml&quot; \
                      --become_enabled 1

[student@ansible ~]$ awx -f human job_template associate --name &quot;Compliance STIG packages&quot; \
                      --credential &quot;Example Credentials&quot;

[student@ansible ~]$ awx -f human job_template create --name &quot;Compliance STIG config&quot; \
                      --credential &quot;Example Credentials&quot; \
                      --job_type run \
                      --inventory &quot;Example Inventory&quot; \
                      --project &quot;Apache&quot; \
                      --playbook &quot;stig-config.yml&quot; \
                      --become_enabled 1

[student@ansible ~]$ awx -f human job_template associate --name &quot;Compliance STIG config&quot; \
                      --credential &quot;Example Credentials&quot;

[student@ansible ~]$ awx job_template create --name &quot;Compliance CIS&quot; \
                      --job-type run  \
                      --inventory &quot;Example Inventory&quot; \
                      --project &quot;Apache&quot; \
                      --playbook &quot;cis.yml&quot; \
                      --become_enabled 1

[student@ansible ~]$ awx -f human job_template associate --name &quot;Compliance CIS&quot; \
                      --credential &quot;Example Credentials&quot;
</code></pre>

<h2 id="create-parallel-workflow">Create Parallel Workflow</h2>

<p>To enable parallel execution of the tasks in these job templates, we will create a workflow. We’ll use the web UI because using <strong>awx</strong> for this is a bit too involved for a lab. Workflows are configured in the <strong>Templates</strong> view, you might have noticed you can choose between <strong>Job Template</strong> and <strong>Workflow Template</strong> when adding a template.</p>

<ul>
<li><p>Go to the <strong>Templates</strong> view and click the <img src="../../images/green_plus.png?classes=inline" alt="plus" /> button. This time choose <strong>Workflow Template</strong></p>

<ul>
<li><p><strong>NAME:</strong> Compliance Workflow</p></li>

<li><p><strong>ORGANIZATION:</strong> Default - click on the magnifying glass if necessary</p></li>

<li><p>Click <strong>SAVE</strong></p></li>
</ul></li>

<li><p>Now the <strong>WORKFLOW VISUALIZER</strong> button becomes active and the     graphical workflow designer opens.</p></li>

<li><p>Click on the <strong>START</strong> button, a new node opens. To the right you can assign an action to the node, you can choose between <strong>TEMPLATE</strong>, <strong>PROJECT SYNC</strong>, <strong>INVENTORY SYNC</strong> or <strong>APPROVAL</strong>.</p></li>

<li><p>In this lab we’ll link multiple jobs to the <strong>START</strong>, so select the <strong>Compliance STIG packages</strong> job template and click <strong>SELECT</strong>. The node gets annotated with the name of the job.</p></li>

<li><p>Click on the <strong>START</strong> button again, another new node opens.</p></li>

<li><p>Select the <strong>Compliance STIG config</strong> job template and click <strong>SELECT</strong>. The node gets annotated with the name of the job.</p></li>

<li><p>Click on the <strong>START</strong> button again, another new node opens.</p></li>

<li><p>Select the <strong>Compliance CIS</strong> job template and click <strong>SELECT</strong>. The node gets annotated with the name of the job.</p></li>

<li><p>Click <strong>SAVE</strong></p></li>

<li><p>In the workflow overview window, again click <strong>SAVE</strong></p></li>
</ul>

<p>You have configured a Workflow that is not going through templates one after the other but rather executes three templates in parallel.</p>

<h2 id="execute-and-watch">Execute and Watch</h2>

<p>Your workflow is ready to go, launch it.</p>

<ul>
<li><p>In the <strong>Templates</strong> view launch the <strong>Compliance Workflow</strong> by clicking the rocket icon.</p></li>

<li><p>Wait until the workflow has finished.</p></li>
</ul>

<p>Go to the <strong>Instance Groups</strong> view and find out how the jobs where distributed over the instances:</p>

<ul>
<li><p>Open the <strong>INSTANCES</strong> view of the <strong>tower</strong> instance group.</p></li>

<li><p>Look at the <strong>TOTAL JOBS</strong> view of the three instances</p></li>

<li><p>Because the Job Templates called in the workflow didn’t specify an
instance group, they where distributed (more or less) evenly over the instances.</p></li>
</ul>

<p>Now deactivate instance <strong>ansible.internal</strong> with the slider button and wait until it is shown as unavailable. Make a (mental) note of the <strong>TOTAL JOBS</strong> counter of the instance. Go back to the list of templates and launch the workflow <strong>Compliance Workflow</strong> again.</p>

<p>Go back to the <strong>Instance Groups</strong> view, get back to the instance overview of instance group <strong>tower</strong> and verify that the three Playbooks where launched on the remaining instances and the <strong>TOTAL JOBS</strong> counter of instance <strong>ansible.internal</strong> didn’t change.</p>

<p>Activate <strong>ansible.internal</strong> again by sliding the button to &ldquo;checked&rdquo;.</p>

<h2 id="using-instance-groups">Using Instance Groups</h2>

<p>So we have seen how a Tower cluster is distributing jobs over Tower instances by default. We have already created instance groups which allow us to take control over which job is executed on which node, so let’s use them.</p>

<p>To make it easier to spot where the jobs were run, let’s first empty the jobs history. This can be done using <strong>awx-manage</strong> on one of the Tower instances. From your VSCode terminal <strong>and as <code>root</code></strong> run the command:</p>

<pre><code>  [student@ansible ~]$ sudo -i
  [root@ansible ~]# awx-manage cleanup_jobs  --days=0
  deleting &quot;2020-04-08 15:43:12.121133+00:00-2-failed&quot; (2 host summaries, 8 events)
  [...]
  notifications: 0 deleted, 0 skipped.
  [root@ansible ~]# exit
  logout
</code></pre>

<h3 id="assign-jobs-to-instance-groups">Assign Jobs to Instance Groups</h3>

<p>One way to assign a job to an instance group is in the job template. As our compliance workflow uses three job templates, do this for all of them:</p>

<ul>
<li><p>In the web UI, go to <strong>RESOURCES→Templates</strong></p></li>

<li><p>Open one of the three compliance templates</p></li>

<li><p>In the <strong>Instance Groups</strong> field, choose the <strong>dev</strong> instance group and click <strong>SAVE</strong>.</p></li>

<li><p>Do this for the other two compliance templates, too.</p></li>
</ul>

<p>Now the jobs that make up our <strong>Compliance Workflow</strong> are all configured to run on the instances of the <strong>dev</strong> instance group.</p>

<h3 id="run-the-workflow">Run the Workflow</h3>

<p>You have done this a couple of times now, you should get along without detailed instructions.</p>

<ul>
<li><p>Run the <strong>Compliance Workflow</strong></p></li>

<li><p>What would you expect? On what instance(s) should the workflow jobs run?</p></li>

<li><p>Verify!</p></li>
</ul>


<div class="notices tip" ><p><strong>Result:</strong> The workflow and the associated jobs will run on <strong>towernode2.internal</strong>. Okay, big surprise, in the <strong>dev</strong> instance group there is only one instance.</p>
</div>


<p>But what’s going to happen if you disable this instance?</p>

<ul>
<li><p>Disable the <strong>towernode2.internal</strong> instance in the <strong>Instance Groups</strong> view.</p></li>

<li><p>Run the workflow again.</p></li>

<li><p>What would you expect? On what instance(s) should the workflow jobs run?</p></li>

<li><p>Verify!</p></li>
</ul>


<div class="notices tip" ><p><strong>Result:</strong> The workflow is running but the associated jobs will stay in pending state because there are no instance available in the <strong>dev</strong> instance group, and the workflow runs &ldquo;forever&rdquo;.</p>
</div>


<p>What’s going to happen if you enable the instance again?</p>

<ul>
<li><p>Go to the <strong>Instance Groups</strong> view and enable <strong>towernode2.internal</strong> again.</p></li>

<li><p>Check in the <strong>Jobs</strong> and <strong>Instance Groups</strong> view what’s happening.</p></li>
</ul>


<div class="notices tip" ><p><strong>Result:</strong> After the instance is enabled again the jobs will pickup and run on <strong>towernode2.internal</strong>.</p>
</div>



<div class="notices warning" ><p>At this point make sure the instances you disabled in the previous steps are definitely enabled again! Otherwise subsequent lab tasks might fail…</p>
</div>






<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="https://goetzrieger.github.io/ansible-tower-advanced/6-instance-groups/" title="Tower Instance Groups"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="https://goetzrieger.github.io/ansible-tower-advanced/8-isolated-nodes/" title="Isolated Nodes" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://goetzrieger.github.io/js/clipboard.min.js?1588672719"></script>
    <script src="https://goetzrieger.github.io/js/perfect-scrollbar.min.js?1588672719"></script>
    <script src="https://goetzrieger.github.io/js/perfect-scrollbar.jquery.min.js?1588672719"></script>
    <script src="https://goetzrieger.github.io/js/jquery.sticky.js?1588672719"></script>
    <script src="https://goetzrieger.github.io/js/featherlight.min.js?1588672719"></script>
    <script src="https://goetzrieger.github.io/js/highlight.pack.js?1588672719"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://goetzrieger.github.io/js/modernizr.custom-3.6.0.js?1588672719"></script>
    <script src="https://goetzrieger.github.io/js/learn.js?1588672719"></script>
    <script src="https://goetzrieger.github.io/js/hugo-learn.js?1588672719"></script>

    <link href="https://goetzrieger.github.io/mermaid/mermaid.css?1588672719" rel="stylesheet" />
    <script src="https://goetzrieger.github.io/mermaid/mermaid.js?1588672719"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>
